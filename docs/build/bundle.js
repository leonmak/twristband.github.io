var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function f(){return l(" ")}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let h;function g(t){h=t}const p=[],m=[],$=[],y=[],b=Promise.resolve();let v=!1;function w(t){$.push(t)}let x=!1;const _=new Set;function k(){if(!x){x=!0;do{for(let t=0;t<p.length;t+=1){const e=p[t];g(e),M(e.$$)}for(g(null),p.length=0;m.length;)m.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];_.has(e)||(_.add(e),e())}$.length=0}while(p.length);for(;y.length;)y.pop()();v=!1,x=!1,_.clear()}}function M(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(w)}}const E=new Set;function A(t,e){t&&t.i&&(E.delete(t),t.i(e))}function z(t,e,n,o){if(t&&t.o){if(E.has(t))return;E.add(t),undefined.c.push((()=>{E.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function S(t){t&&t.c()}function q(t,n,c){const{fragment:i,on_mount:a,on_destroy:s,after_update:u}=t.$$;i&&i.m(n,c),w((()=>{const n=a.map(e).filter(r);s?s.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(w)}function I(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function N(t,e){-1===t.$$.dirty[0]&&(p.push(t),v||(v=!0,b.then(k)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,r,c,i,a,u,l=[-1]){const f=h;g(e);const d=r.props||{},p=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:l,skip_bound:!1};let m=!1;if(p.ctx=c?c(e,d,((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),m&&N(e,t)),n})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!i&&i(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(s)}else p.fragment&&p.fragment.c();r.intro&&A(e.$$.fragment),q(e,r.target,r.anchor),k()}g(f)}class j{$destroy(){I(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class O extends j{constructor(t){super(),Q(this,t,null,null,c,{})}}var C=function(t,e){const n=(e=e||{}).kp||1,o=e.ki||0;let r=1/(1e3/t),c=!0!==e.doInitialisation,i=2*n;const a=2*o;let s=1,u=0,l=0,f=0,d=0,h=0,g=0;function p(t,e,n,o,m,$,y,b,v,w){let x,_,k,M,E,A,z,S,q,I,N,Q,j,O,C,H,P,T,D,F,L,V,B,R;if(r=w||r,c||function(t,e,n,o,r,a){c=!0;const s=i;i=2.5;for(let c=0;c<=9;c+=1)p(0,0,0,t,e,n,o,r,a,1);i=s}(o,m,$,y,b,v),void 0===y||void 0===b||void 0===v||0===y&&0===b&&0===v)return void function(t,e,n,o,c,p){let m,$,y,b,v,w,x;0!==o&&0!==c&&0!==p&&(m=(o*o+c*c+p*p)**-.5,$=u*f-s*l,y=s*u+l*f,b=s*s-.5+f*f,v=(c*=m)*b-(p*=m)*y,w=p*$-(o*=m)*b,x=o*y-c*$,a>0?(d+=a*v*r,h+=a*w*r,g+=a*x*r,t+=d,e+=h,n+=g):(d=0,h=0,g=0),t+=i*v,e+=i*w,n+=i*x);const _=s,k=u,M=l;s+=-k*(t*=.5*r)-M*(e*=.5*r)-f*(n*=.5*r),u+=_*t+M*n-f*e,l+=_*e-k*n+f*t,f+=_*n+k*e-M*t,m=(s*s+u*u+l*l+f*f)**-.5,s*=m,u*=m,l*=m,f*=m}(t,e,n,o,m,$);0!==o&&0!==m&&0!==$&&(x=(o*o+m*m+$*$)**-.5,o*=x,m*=x,$*=x,x=(y*y+b*b+v*v)**-.5,_=s*s,k=s*u,M=s*l,E=s*f,A=u*u,z=u*l,S=u*f,q=l*l,I=l*f,N=f*f,Q=2*((y*=x)*(.5-q-N)+(b*=x)*(z-E)+(v*=x)*(S+M)),j=2*(y*(z+E)+b*(.5-A-N)+v*(I-k)),O=Math.sqrt(Q*Q+j*j),C=2*(y*(S-M)+b*(I+k)+v*(.5-A-q)),H=S-M,P=k+I,T=_-.5+N,D=O*(.5-q-N)+C*(S-M),F=O*(z-E)+C*(k+I),L=O*(M+S)+C*(.5-A-q),V=m*T-$*P+(b*L-v*F),B=$*H-o*T+(v*D-y*L),R=o*P-m*H+(y*F-b*D),a>0?(d+=a*V*r,h+=a*B*r,g+=a*R*r,t+=d,e+=h,n+=g):(d=0,h=0,g=0),t+=i*V,e+=i*B,n+=i*R);const G=s,J=u,K=l;s+=-J*(t*=.5*r)-K*(e*=.5*r)-f*(n*=.5*r),u+=G*t+K*n-f*e,l+=G*e-J*n+f*t,f+=G*n+J*e-K*t,x=(s*s+u*u+l*l+f*f)**-.5,s*=x,u*=x,l*=x,f*=x}return{update:p,getQuaternion:()=>({w:s,x:u,y:l,z:f})}},H=function(t,e){const n=1e3/t;let o=(e=e||{}).beta||1,r=!0!==e.doInitialisation,c=1,i=0,a=0,s=0,u=1/n;function l(t,e,n,f,d,h,g,p,m,$){let y,b,v,w,x,_,k,M,E,A,z,S,q,I,N,Q,j,O,C,H,P,T,D,F,L,V,B,R,G,J,K,U,W,X,Y;u=$||u,r||function(t,e,n,c,i,a){r=!0;const s=o;o=.4;for(let o=0;o<=9;o+=1)l(0,0,0,t,e,n,c,i,a,1);o=s}(f,d,h,g,p,m),void 0===g||void 0===p||void 0===m||0===g&&0===p&&0===m?function(t,e,n,r,l,f){let d,h,g,p,m,$,y,b,v,w,x,_,k,M,E,A,z,S,q,I,N,Q;$=.5*(-i*t-a*e-s*n),y=.5*(c*t+a*n-s*e),b=.5*(c*e-i*n+s*t),v=.5*(c*n+i*e-a*t),0===r&&0===l&&0===f||(d=(r*r+l*l+f*f)**-.5,w=2*c,x=2*i,_=2*a,k=2*s,M=4*c,E=4*i,A=4*a,z=8*i,S=8*a,q=c*c,I=i*i,N=a*a,Q=s*s,h=M*N+_*(r*=d)+M*I-x*(l*=d),g=E*Q-k*r+4*q*i-w*l-E+z*I+z*N+E*(f*=d),p=4*q*a+w*r+A*Q-k*l-A+S*I+S*N+A*f,m=4*I*s-x*r+4*N*s-_*l,d=(h*h+g*g+p*p+m*m)**-.5,h*=d,g*=d,p*=d,m*=d,$-=o*h,y-=o*g,b-=o*p,v-=o*m),c+=$*u,i+=y*u,a+=b*u,s+=v*u,d=(c*c+i*i+a*a+s*s)**-.5,c*=d,i*=d,a*=d,s*=d}(t,e,n,f,d,h):(_=.5*(-i*t-a*e-s*n),k=.5*(c*t+a*n-s*e),M=.5*(c*e-i*n+s*t),E=.5*(c*n+i*e-a*t),0===f&&0===d&&0===h||(y=(f*f+d*d+h*h)**-.5,f*=y,d*=y,h*=y,y=(g*g+p*p+m*m)**-.5,S=2*c*(g*=y),q=2*c*(p*=y),I=2*c*(m*=y),N=2*i*g,H=2*c,P=2*i,T=2*a,D=2*s,F=2*c*a,L=2*a*s,V=c*c,B=c*i,R=c*a,G=c*s,J=i*i,K=i*a,U=i*s,W=a*a,X=a*s,Y=s*s,A=g*V-q*s+I*a+g*J+P*p*a+P*m*s-g*W-g*Y,z=S*s+p*V-I*i+N*a-p*J+p*W+T*m*s-p*Y,Q=Math.sqrt(A*A+z*z),j=-S*a+q*i+m*V+N*s-m*J+T*p*s-m*W+m*Y,O=2*Q,C=2*j,b=-T*(2*U-F-f)+P*(2*B+L-d)-j*a*(Q*(.5-W-Y)+j*(U-R)-g)+(-Q*s+j*i)*(Q*(K-G)+j*(B+X)-p)+Q*a*(Q*(R+U)+j*(.5-J-W)-m),v=D*(2*U-F-f)+H*(2*B+L-d)-4*i*(1-2*J-2*W-h)+j*s*(Q*(.5-W-Y)+j*(U-R)-g)+(Q*a+j*c)*(Q*(K-G)+j*(B+X)-p)+(Q*s-C*i)*(Q*(R+U)+j*(.5-J-W)-m),w=-H*(2*U-F-f)+D*(2*B+L-d)-4*a*(1-2*J-2*W-h)+(-O*a-j*c)*(Q*(.5-W-Y)+j*(U-R)-g)+(Q*i+j*s)*(Q*(K-G)+j*(B+X)-p)+(Q*c-C*a)*(Q*(R+U)+j*(.5-J-W)-m),x=P*(2*U-F-f)+T*(2*B+L-d)+(-O*s+j*i)*(Q*(.5-W-Y)+j*(U-R)-g)+(-Q*c+j*a)*(Q*(K-G)+j*(B+X)-p)+Q*i*(Q*(R+U)+j*(.5-J-W)-m),y=(b*b+v*v+w*w+x*x)**-.5,b*=y,v*=y,w*=y,x*=y,_-=o*b,k-=o*v,M-=o*w,E-=o*x),c+=_*u,i+=k*u,a+=M*u,s+=E*u,y=(c*c+i*i+a*a+s*s)**-.5,c*=y,i*=y,a*=y,s*=y)}return{update:l,getQuaternion:()=>({w:c,x:i,y:a,z:s})}};const P=180/Math.PI;function T(t){const e=(t=t||{}).sampleInterval||20,n=t.algorithm||"Madgwick";let o;if("Mahony"===n)o=C;else{if("Madgwick"!==n)throw new Error("AHRS(): Algorithm not valid: "+n);o=H}const r=o(e,t),c=this;Object.keys(r).forEach((t=>c[t]=r[t]))}T.prototype.toVector=function(){const t=this.getQuaternion(),e=2*Math.acos(t.w),n=Math.sin(e/2);return{angle:e,x:t.x/n,y:t.y/n,z:t.z/n}},T.prototype.getEulerAngles=function(){const t=this.getQuaternion(),e=t.w*t.w,n=t.x*t.x,o=t.y*t.y,r=t.z*t.z;return{heading:Math.atan2(2*(t.x*t.y+t.z*t.w),n-o-r+e),pitch:-Math.asin(2*(t.x*t.z-t.y*t.w)),roll:Math.atan2(2*(t.y*t.z+t.x*t.w),-n-o+r+e)}},T.prototype.getEulerAnglesDegrees=function(){const t=this.getEulerAngles();return{heading:t.heading*P,pitch:t.pitch*P,roll:t.roll*P}};var D=T;function F(t){const e=new D({sampleInterval:1});function n(t){const n=t.target.value,[o,r,c,i,a,s,u,l,f]=[...Array(9).keys()].map((t=>n.getFloat32(4*t,!0).toFixed(2)));e.update(a,i,s,r,o,c,l,-u,f),console.log(e.getEulerAngles()),console.log(e.getQuaternion())}return window.navigator.permissions.query({name:"bluetooth"}),window.navigator.bluetooth.requestDevice({filters:[{services:["4fafc301-1fb5-459e-8fcc-c5c9c331914b"]}]}).then((t=>t.gatt.connect())).then((t=>t.getPrimaryService("4fafc301-1fb5-459e-8fcc-c5c9c331914b"))).then((t=>t.getCharacteristic("beb5483c-36e1-4688-b7f5-ea07361b26a8"))).then((t=>t.startNotifications())).then((t=>{t.addEventListener("characteristicvaluechanged",n),console.info("Notifications have been started.")})).catch((t=>{console.error(t)})),[]}class L extends j{constructor(t){super(),Q(this,t,F,null,c,{})}}function V(t){let e,n,o,r,c,h,g,p,m,$,y,b;return e=new O({}),o=new L({}),{c(){S(e.$$.fragment),n=f(),S(o.$$.fragment),r=f(),c=u("main"),h=u("h1"),g=l("Hello "),p=l(t[0]),m=l("!"),$=f(),y=u("p"),y.innerHTML='Visit the <a href="https://svelte.dev/tutorial">Svelte tutorial</a> to learn how to build Svelte apps.',d(h,"class","svelte-1hoym3u"),d(c,"class","svelte-1hoym3u")},m(t,s){q(e,t,s),a(t,n,s),q(o,t,s),a(t,r,s),a(t,c,s),i(c,h),i(h,g),i(h,p),i(h,m),i(c,$),i(c,y),b=!0},p(t,[e]){(!b||1&e)&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(p,t[0])},i(t){b||(A(e.$$.fragment,t),A(o.$$.fragment,t),b=!0)},o(t){z(e.$$.fragment,t),z(o.$$.fragment,t),b=!1},d(t){I(e,t),t&&s(n),I(o,t),t&&s(r),t&&s(c)}}}function B(t,e,n){let{name:o="m"}=e;return t.$$set=t=>{"name"in t&&n(0,o=t.name)},[o]}return new class extends j{constructor(t){super(),Q(this,t,B,V,c,{name:0})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
